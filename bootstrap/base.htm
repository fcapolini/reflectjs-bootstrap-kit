<lib
    :bsColorMode="auto"

    :handle-bsColorMode=[[_bsUpdateColorMode()]]

    :_bsInit=[[
      window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', _bsUpdateColorMode);
    ]]

    :_bsUpdateColorMode=[[() => {
      let mode = this.bsColorMode;//TODO: this shouldn't need `this.`
      if (mode === 'auto') {
        mode = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
      }
      window.document.documentElement.setAttribute('data-bs-theme', mode);
    }]]
>

  <!--- https://getbootstrap.com/docs/5.3/getting-started/introduction/ -->
  <!--- https://getbootstrap.com/docs/5.3/customize/color-modes/#javascript -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
        crossorigin="anonymous">
  <script>
    addEventListener('DOMContentLoaded', function() {
      const e = document.createElement('script');
      e.setAttribute('src', 'https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js');
      e.setAttribute('integrity', 'sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN');
      e.setAttribute('crossorigin', 'anonymous');
      document.body.appendChild(e);
    });
  </script>

  <!--- https://getbootstrap.com/docs/5.2/layout/containers/ -->
  <:define tag="bs-container"
    :size=""
    class=[['container' + (size ? '-' + size : '')]]/>

  <!--- https://getbootstrap.com/docs/5.2/layout/grid/ -->
  <:define tag="bs-row" class="row"/>

  <!--- https://getbootstrap.com/docs/5.2/layout/columns/ -->
  <:define tag="bs-col" class="col"/>

</lib>
